{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Error/Error.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/images-api.js","components/Error/Error.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","style","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autocomplete","autofocus","placeholder","Component","propsTypes","PropTypes","func","isRequired","ImageGalleryItem","imgItem","getLargeImg","webformatURL","tags","src","alt","ImageGalleryItemImage","onClick","protoTypes","object","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","largeImageUrl","createPortal","Overlay","string","ImageGallery","hits","showModal","toggleModal","largeImageURL","items","map","item","id","Button","axios","defaults","baseURL","searchQuery","currentPage","pageSize","get","then","response","data","Error","message","error","App","isLoading","onChangeQuery","fetchImages","options","imagesApi","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","prevProps","shouldPenderLoadMoreBtn","length","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.15a4e678.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__1Ykqe\"};","import { Component } from 'react';\nimport style from './Searchbar.module.css';\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n  static propsTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    query: '',\n  };\n\n  handleChange = event => {\n    this.setState({\n      query: event.currentTarget.value,\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={style.Searchbar}>\n        <form className={style.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={style.SearchFormButton}>\n            <span className={style.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={style.SearchFormInput}\n            type=\"text\"\n            value={this.state.query}\n            onChange={this.handleChange}\n            autocomplete=\"off\"\n            autofocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import style from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ imgItem, getLargeImg }) => {\n  const { webformatURL, tags } = imgItem;\n  return (\n    <li className={style.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={style.ImageGalleryItemImage}\n        onClick={() => getLargeImg({ imgItem })}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.protoTypes = {\n  imgItem: PropTypes.object.isRequired,\n  getLargeImg: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import style from './Modal.module.css';\nimport { createPortal } from 'react-dom';\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  static propsTypes = {\n    onClose: PropTypes.func.isRequired,\n    largeImageUrl: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleOverlayClick = event => {\n    if (event.target === event.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { largeImageUrl } = this.props;\n    return createPortal(\n      <div className={style.Overlay} onClick={this.handleOverlayClick}>\n        <div className={style.Modal}>\n          <img src={largeImageUrl} alt=\"large img\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import style from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Modal from '../Modal/Modal';\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass ImageGallery extends Component {\n  static propsTypes = {\n    items: PropTypes.object.isRequired,\n  };\n\n  state = {\n    hits: '',\n    showModal: false,\n    largeImageUrl: '',\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  getLargeImg = ({ imgItem }) => {\n    this.toggleModal();\n    this.setState({\n      largeImageUrl: imgItem.largeImageURL,\n    });\n  };\n\n  render() {\n    const { items } = this.props;\n    const { showModal, largeImageUrl } = this.state;\n\n    return (\n      <>\n        <ul className={style.ImageGallery}>\n          {items.map(item => (\n            <ImageGalleryItem\n              key={item.id}\n              imgItem={item}\n              getLargeImg={this.getLargeImg}\n            />\n          ))}\n        </ul>\n        {showModal && (\n          <Modal largeImageUrl={largeImageUrl} onClose={this.toggleModal} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import style from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" className={style.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.protoTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst fetchImages = ({ searchQuery = '', currentPage = 1, pageSize = 12 }) => {\n  const apiKey = '19974977-7de7da89e9a7910ce59988326';\n  return axios\n    .get(\n      `/?q=${searchQuery}&page=${currentPage}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=${pageSize}`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default { fetchImages };\n","import style from './Error.module.css';\nimport PropTypes from 'prop-types';\n\nconst Error = ({ message }) => {\n  return <div className={style.error}>{message}</div>;\n};\n\nError.protoTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nexport default Error;\n","import { Component } from 'react';\nimport './App.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n\nimport Button from './components/Button/Button';\nimport imagesApi from './services/images-api';\nimport Error from './components/Error/Error';\nimport Loader from 'react-loader-spinner';\n\nclass App extends Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      hits: [],\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n\n    const options = {\n      currentPage,\n      searchQuery,\n    };\n\n    this.setState({\n      isLoading: true,\n    });\n\n    imagesApi\n      .fetchImages(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error =>\n        this.setState({\n          error,\n        }),\n      )\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  render() {\n    const { hits, isLoading, error } = this.state;\n    const shouldPenderLoadMoreBtn = hits.length > 0 && !isLoading;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {error && <Error message=\"Something went wrong. Try again.\" />}\n        <ImageGallery items={hits} />\n        {isLoading && (\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#3f51b5\"\n            height={80}\n            width={80}\n            className=\"loader\"\n          />\n        )}\n\n        {shouldPenderLoadMoreBtn && <Button onClick={this.fetchImages} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};"],"sourceRoot":""}